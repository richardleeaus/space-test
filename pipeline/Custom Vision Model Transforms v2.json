{
	"name": "Custom Vision Model Transforms v2",
	"properties": {
		"activities": [
			{
				"name": "Transforms",
				"type": "SparkJob",
				"dependsOn": [],
				"policy": {
					"timeout": "7.00:00:00",
					"retry": 0,
					"retryIntervalInSeconds": 30,
					"secureOutput": false,
					"secureInput": false
				},
				"userProperties": [],
				"typeProperties": {
					"sparkJob": {
						"referenceName": "Transforms",
						"type": "SparkJobDefinitionReference"
					},
					"file": "abfss://spark-jobs@synhnsg2fpul.dfs.core.windows.net/customvision_transform/src/main.py",
					"args": [
						"--storage_account_name",
						"@pipeline().parameters.StorageAccountName",
						"--storage_container",
						"@pipeline().parameters.Prefix",
						"--key_vault_name",
						"rle-pipeline-kv",
						"--storage_account_key_secret_name",
						"AOI Data Storage Account v2",
						"--linked_service_name",
						"AOI Data Storage Account v2",
						"--aoi",
						"@split(pipeline().parameters.AOI, ' ')[0]",
						"@split(pipeline().parameters.AOI, ' ')[1]",
						"@split(pipeline().parameters.AOI, ' ')[2]",
						"@split(pipeline().parameters.AOI, ' ')[3]"
					],
					"targetBigDataPool": {
						"referenceName": "poolg2fpul",
						"type": "BigDataPoolReference"
					},
					"executorSize": "Medium",
					"conf": {
						"spark.dynamicAllocation.minExecutors": 2,
						"spark.dynamicAllocation.maxExecutors": 3
					},
					"driverSize": "Medium",
					"numExecutors": 2
				}
			}
		],
		"parameters": {
			"Prefix": {
				"type": "string"
			},
			"StorageAccountName": {
				"type": "string"
			},
			"AOI": {
				"type": "string"
			}
		},
		"annotations": [],
		"lastPublishTime": "2022-03-06T06:06:58Z"
	},
	"type": "Microsoft.Synapse/workspaces/pipelines"
}